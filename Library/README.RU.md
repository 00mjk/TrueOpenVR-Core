[![EN](https://user-images.githubusercontent.com/9499881/27683803-659dc988-5cd8-11e7-9c05-0b747e917666.png)](https://github.com/TrueOpenVR/TrueOpenVR-Core/blob/master/Library/README.md) [![RU](https://user-images.githubusercontent.com/9499881/27683795-5b0fbac6-5cd8-11e7-929c-057833e01fb1.png)](https://github.com/TrueOpenVR/TrueOpenVR-Core/blob/master/Library/README.RU.md)
# Функции TrueOpenVR
Все функции импортируются напрямую из библиотеки "TOVR.dll". Путь библиотеки можно получить из реестра. 


**GetHMDData** - Получение данных вращения (Yaw, Pitch, Roll) и позиционирования (X, Y, Z) VR шлема. В случае удачного получения возвращает 1, иначе 0. 

Если вам необходим кватернион, то можно рассчитать его из Yaw, Pitch, Roll следующим образом:

t0, t1, t2, t3, t4, t5, qW, qX, qY, qZ - double.
>t0 = cos(DegToRad(yaw) * 0.5);<br>
>t1 = sin(DegToRad(yaw) * 0.5);<br>
>t2 = cos(DegToRad(roll) * 0.5);<br>
>t3 = sin(DegToRad(roll) * 0.5);<br>
>t4 = cos(DegToRad(pitch) * 0.5);<br>
>t5 = sin(DegToRad(pitch) * 0.5);<br>
>qW = t0 * t2 * t4 + t1 * t3 * t5;<br>
>qX = t0 * t3 * t4 - t1 * t2 * t5;<br>
>qY = t0 * t2 * t5 + t1 * t3 * t4;<br>
>qZ = t1 * t2 * t4 - t0 * t3 * t5;<br>


**GetControllersData** - Получение данных (кнопки, стики, триггеры) о VR контроллере. В случае удачного получения возвращает 1, иначе 0. 


**SetControllerData** - Обратная отдача для контроллера (вибрация). В случае удачной установки возвращает 1, иначе 0. 


**SetCentering** - Центрирование устройства (сброс вращения). В случае удачной установки возвращает 1, иначе 0. 


Типы и параметры функций можно посмотреть в библиотеках.

# Параметры TrueOpenVR
Желательно, чтобы приложение имело два окна, основное окно с игрой или программой для VR дисплея и второе небольшое окно, расположенное на рабочем столе обычного дисплея (не VR), с возможностью закрытия приложения и возможно еще некоторыми функциями. 
Основное окно должно запускаться в режиме "Borderless Windowed FullScreen", что значит обычное окно, без рамок, с размерами разрешения дисплея.

![](https://user-images.githubusercontent.com/9499881/27838382-5d76aadc-60fb-11e7-9a1c-a312f2dddccc.png)


Все параметры находятся в ветке реестра **"HKEY_CURRENT_USER\Software\TrueOpenVR"**.


Параметр **"ScreenIndex"** отвечает за номер дисплея. Например, 1 это основной дисплей, а 2 это VR шлем.


Параметр **"Scale"** отвечает за маштабирование изображения. Если параметр имеет значение "True", то изображение с длинной "UserWidth" и высотой "UserHeight" растягивается на весь дисплей "ScreenIndex". 
Если параметр имеет значение "False", то изображение не маштабируется и отображается в центре окна, пустые области окна имеют черный фон. Параметр необходим для устранения слепых зон в VR шлеме.

Параметры **"UserWidth"** и **"UserHeight"** отвечают за размеры изображения в окне. По умолчанию это размер дисплея "ScreenIndex", однако пользователь может его изменить, чтобы устранить слепые зоны.


Параметры **"RenderWidth"** и **"RenderHeight"** отвечают за разрешение в приложениях или играх. Например, у пользователя недостаточно производительный компьютер и он уменьшает разрешение игры или приложения для повышения производительности.


Параметр **"Library"** отвечает за путь к основной библиотеке с функциями, которую нужно подгружать для получения данных.

Параметр **"Drivers"** отвечает за путь к папке с драйверами.

Параметр **"Driver"** отвечает за название текущего драйвера.